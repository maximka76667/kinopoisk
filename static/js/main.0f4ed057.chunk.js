(this.webpackJsonpkinopoisk=this.webpackJsonpkinopoisk||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(5),i=n.n(s),r=(n(12),n(3)),o=n(6),l=n(7),u=new(function(){function e(t){var n=t.baseUrl,c=t.authorization;Object(o.a)(this,e),this._baseUrl=n,this._token=c}return Object(l.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"searchFilmsByName",value:function(e){return fetch("".concat(this._baseUrl,"?apikey=").concat(this._token,"&s=").concat(e)).then(this._checkResponse)}},{key:"getFilmByID",value:function(e){return fetch("".concat(this._baseUrl,"?apikey=").concat(this._token,"&i=").concat(e)).then(this._checkResponse)}}]),e}())({baseUrl:"https://www.omdbapi.com/",authorization:"333826fc"}),h=n(0);var j=function(){var e=(new Date).getFullYear();return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("p",{className:"footer__copyright",children:["\xa9",e," ",Object(h.jsx)("span",{children:"Maxim Grivennyy"})," with ",Object(h.jsx)("a",{className:"footer__link",href:"http://www.omdbapi.com/",children:"OMDb API"})]})})};var m=function(){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("a",{href:"http://maximka76667.github.io/kinopoisk",className:"header__heading",children:"KinoPoisk"})})};var p=function(e){var t=e.film;return Object(h.jsxs)("article",{className:"film",onClick:function(){return e.onCardClick(t)},children:[Object(h.jsx)("div",{className:"film__poster-wrapper ".concat(e.isLoading?"film__poster-wrapper_loading":""),children:Object(h.jsx)("img",{className:"film__poster",src:t.Poster,alt:t.Title})}),Object(h.jsx)("div",{className:"film__heading",children:Object(h.jsxs)("h3",{className:"film__title",children:[t.Title," (",t.Year,")"]})})]})},d=n(2);var b=function(){return Object(h.jsx)("svg",{className:"block",version:"1.1",id:"heart",viewBox:"0 0 511.626 511.627",fill:"red",children:Object(h.jsx)("g",{children:Object(h.jsx)("path",{d:"M475.366,71.951c-24.175-23.606-57.575-35.404-100.215-35.404c-11.8,0-23.843,2.046-36.117,6.136   c-12.279,4.093-23.702,9.615-34.256,16.562c-10.568,6.945-19.65,13.467-27.269,19.556c-7.61,6.091-14.845,12.564-21.696,19.414   c-6.854-6.85-14.087-13.323-21.698-19.414c-7.616-6.089-16.702-12.607-27.268-19.556c-10.564-6.95-21.985-12.468-34.261-16.562   c-12.275-4.089-24.316-6.136-36.116-6.136c-42.637,0-76.039,11.801-100.211,35.404C12.087,95.552,0,128.288,0,170.162   c0,12.753,2.24,25.889,6.711,39.398c4.471,13.514,9.566,25.031,15.275,34.546c5.708,9.514,12.181,18.796,19.414,27.837   c7.233,9.042,12.519,15.27,15.846,18.699c3.33,3.422,5.948,5.899,7.851,7.419L243.25,469.937c3.427,3.429,7.614,5.144,12.562,5.144   s9.138-1.715,12.563-5.137l177.87-171.307c43.588-43.583,65.38-86.41,65.38-128.475C511.626,128.288,499.537,95.552,475.366,71.951   z"})})})};var f=function(e){return a.a.useEffect((function(){Object(d.a)({targets:".block:nth-child(-n+5)",translateX:function(){return d.a.random(-900,-600)},translateY:function(){return d.a.random(-600,300)},fill:function(){return"#ff"+d.a.random(0,256).toString(16)+d.a.random(0,256).toString(16)},rotate:function(){return d.a.random(-30,30)+"deg"},opacity:[0,.8],delay:d.a.stagger(100)}),Object(d.a)({targets:".block:nth-last-child(-n+5)",translateX:function(){return d.a.random(300,800)},translateY:function(){return d.a.random(-600,300)},fill:function(){return"#ff"+d.a.random(0,256).toString(16)+d.a.random(0,256).toString(16)},rotate:function(){return d.a.random(-30,30)+"deg"},opacity:[0,.8],delay:d.a.stagger(100)})}),[]),Object(h.jsxs)("main",{className:"content",children:[Object(h.jsx)("div",{className:"searcher",children:function(){for(var e=[],t=0;t<10;t++)e.push(Object(h.jsx)(b,{},t));return e}()}),Object(h.jsxs)("h1",{className:"content__heading",children:["Enter the name of the movie and press the ",Object(h.jsx)("span",{children:"search"})," button"]}),Object(h.jsxs)("form",{className:"form",onSubmit:e.onSearch,children:[Object(h.jsx)("input",{className:"form__input",id:"title",value:e.title,placeholder:"Name of the movie",onChange:e.onChange,required:!0}),Object(h.jsx)("button",{className:"form__submit-button",type:"submit",children:e.isSearching?"Searching...":"Click"})]}),e.isSearching&&Object(h.jsx)("p",{className:"searcher__loading",children:"Searching..."}),Object(h.jsx)("p",{className:"films__error",children:e.error}),Object(h.jsx)("div",{className:"films",children:e.films.map((function(t){return Object(h.jsx)(p,{film:t,onCardClick:e.onCardClick,isLoading:e.isLoading},t.imdbID)}))})]})};var O=function(e){var t=e.isPopupOpen,n=e.closePopup,c=e.filmDetails;return Object(h.jsxs)("div",{className:"popup ".concat(t?"popup_opened":""),children:[Object(h.jsx)("div",{className:"popup__overlay",onClick:n}),Object(h.jsxs)("div",{className:"popup__container",children:[Object(h.jsx)("img",{className:"popup__poster",src:c.Poster,alt:c.Title}),Object(h.jsxs)("div",{className:"popup__info",children:[Object(h.jsx)("h2",{className:"popup__title",children:c.Title}),Object(h.jsx)("p",{className:"popup__plot",children:c.Plot}),Object(h.jsxs)("p",{className:"popup__year",children:["Release Date: ",c.Year]}),Object(h.jsxs)("p",{className:"popup__runtime",children:["Runtime: ",c.Runtime]})]}),Object(h.jsx)("button",{className:"popup__close-button",onClick:n})]})]})};var _=function(){var e=a.a.useState(""),t=Object(r.a)(e,2),n=t[0],c=t[1],s=a.a.useState([]),i=Object(r.a)(s,2),o=i[0],l=i[1],p=a.a.useState(""),d=Object(r.a)(p,2),b=d[0],_=d[1],g=a.a.useState({}),x=Object(r.a)(g,2),v=x[0],k=x[1],N=a.a.useState(!1),S=Object(r.a)(N,2),y=S[0],C=S[1],w=a.a.useState(!1),D=Object(r.a)(w,2),P=D[0],F=D[1],I=a.a.useState(!1),B=Object(r.a)(I,2),L=B[0],R=B[1],T=a.a.useState(""),U=Object(r.a)(T,2),Y=U[0],E=U[1];return Object(h.jsxs)("div",{className:"page",children:[Object(h.jsx)(m,{}),Object(h.jsx)(f,{films:o,onSearch:function(e){e.preventDefault(),l([]),E(""),F(!0),u.searchFilmsByName(n).then((function(e){e.Search?l(e.Search):E(e.Error)})).catch((function(e){return console.log(e)})).finally((function(){return F(!1)}))},onCardClick:function(e){R(!0),e.imdbID!==b?(_(e.imdbID),u.getFilmByID(e.imdbID).then((function(e){k(e),C(!0)})).catch((function(e){return console.log(e)})).finally((function(){return R(!1)}))):C(!0)},onChange:function(e){c(e.target.value)},isSearching:P,isLoading:L,error:Y}),Object(h.jsx)(O,{isPopupOpen:y,closePopup:function(){C(!1),R(!1)},filmDetails:v}),Object(h.jsx)(j,{})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),g()}},[[14,1,2]]]);
//# sourceMappingURL=main.0f4ed057.chunk.js.map