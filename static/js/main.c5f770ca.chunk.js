(this.webpackJsonpkinopoisk=this.webpackJsonpkinopoisk||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(5),i=n.n(s),r=(n(12),n(3)),o=n(6),l=n(7),u=new(function(){function e(t){var n=t.baseUrl,a=t.authorization;Object(o.a)(this,e),this._baseUrl=n,this._token=a}return Object(l.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"searchFilmsByName",value:function(e){return fetch("".concat(this._baseUrl,"?apikey=").concat(this._token,"&s=").concat(e)).then(this._checkResponse)}},{key:"getFilmByID",value:function(e){return fetch("".concat(this._baseUrl,"?apikey=").concat(this._token,"&i=").concat(e)).then(this._checkResponse)}}]),e}())({baseUrl:"https://www.omdbapi.com/",authorization:"333826fc"}),h=n(0);var m=function(){var e=(new Date).getFullYear();return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("p",{className:"footer__copyright",children:["\xa9",e," ",Object(h.jsx)("span",{children:"Maxim Grivennyy"})," with ",Object(h.jsx)("a",{className:"footer__link",href:"http://www.omdbapi.com/",children:"OMDb API"})]})})};var j=function(){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("a",{href:"http://maximka76667.github.io/kinopoisk",className:"header__heading",children:"KinoPoisk"})})};var d=function(e){var t=e.film;return Object(h.jsxs)("article",{className:"film",onClick:function(){return e.onCardClick(t)},children:[Object(h.jsx)("div",{className:"film__poster-wrapper ".concat(e.isLoading?"film__poster-wrapper_loading":""),children:Object(h.jsx)("img",{className:"film__poster",src:t.Poster,alt:t.Title})}),Object(h.jsx)("div",{className:"film__heading",children:Object(h.jsxs)("h3",{className:"film__title",children:[t.Title," (",t.Year,")"]})})]})},p=n(2);var b=function(e){return c.a.useEffect((function(){document.addEventListener("mousemove",(function(e){e.clientX,e.clientY}));for(var e=document.querySelector(".searcher"),t=0;t<100;t++){var n=document.createElement("div");n.classList.add("block"),e.appendChild(n)}Object(p.a)({targets:".searcher .block:nth-child(-n+50)",translateX:function(){return p.a.random(-700,-400)},translateY:function(){return p.a.random(-400,400)},backgroundColor:function(){return"#"+p.a.random(303030,999999)},delay:p.a.stagger(100)}),Object(p.a)({targets:".searcher .block:nth-last-child(-n+50)",translateX:function(){return p.a.random(400,700)},translateY:function(){return p.a.random(-400,400)},backgroundColor:function(){return"#"+p.a.random(303030,999999)},delay:p.a.stagger(100)})}),[]),Object(h.jsxs)("main",{className:"content",children:[Object(h.jsx)("div",{className:"searcher"}),Object(h.jsxs)("h1",{className:"content__heading",children:["Enter the name of the movie and press the ",Object(h.jsx)("span",{children:"search"})," button"]}),Object(h.jsxs)("form",{className:"form",onSubmit:e.onSearch,children:[Object(h.jsx)("input",{className:"form__input",id:"title",value:e.title,placeholder:"Name of the movie",onChange:e.onChange,required:!0}),Object(h.jsx)("button",{className:"form__submit-button",type:"submit",children:e.isSearching?"Searching...":"Click"})]}),e.isSearching&&Object(h.jsx)("p",{className:"searcher__loading",children:"Searching..."}),Object(h.jsx)("div",{className:"films",children:e.films.map((function(t){return Object(h.jsx)(d,{film:t,onCardClick:e.onCardClick,isLoading:e.isLoading},t.imdbID)}))})]})};var f=function(e){var t=e.isPopupOpen,n=e.closePopup,a=e.filmDetails;return Object(h.jsxs)("div",{className:"popup ".concat(t?"popup_opened":""),children:[Object(h.jsx)("div",{className:"popup__overlay",onClick:n}),Object(h.jsxs)("div",{className:"popup__container",children:[Object(h.jsx)("img",{className:"popup__poster",src:a.Poster,alt:a.Title}),Object(h.jsxs)("div",{className:"popup__info",children:[Object(h.jsx)("h2",{className:"popup__title",children:a.Title}),Object(h.jsx)("p",{className:"popup__plot",children:a.Plot}),Object(h.jsxs)("p",{className:"popup__year",children:["Release Date: ",a.Year]}),Object(h.jsxs)("p",{className:"popup__runtime",children:["Runtime: ",a.Runtime]})]}),Object(h.jsx)("button",{className:"popup__close-button",onClick:n})]})]})};var O=function(){var e=c.a.useState(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=c.a.useState([]),i=Object(r.a)(s,2),o=i[0],l=i[1],d=c.a.useState(""),p=Object(r.a)(d,2),O=p[0],_=p[1],g=c.a.useState({}),x=Object(r.a)(g,2),v=x[0],k=x[1],N=c.a.useState({}),y=Object(r.a)(N,2),C=y[0],S=y[1],w=c.a.useState(!1),D=Object(r.a)(w,2),P=D[0],I=D[1],F=c.a.useState(!1),L=Object(r.a)(F,2),B=L[0],R=L[1],T=c.a.useState(!1),Y=Object(r.a)(T,2),E=Y[0],U=Y[1];return Object(h.jsxs)("div",{className:"page",children:[Object(h.jsx)(j,{}),Object(h.jsx)(b,{films:o,onSearch:function(e){e.preventDefault(),R(!0),u.searchFilmsByName(n).then((function(e){l(e.Search),console.log(e.Search)})).catch((function(e){return console.log(e)})).finally((function(){return R(!1)}))},onCardClick:function(e){U(!0),e.imdbID!==O?(_(e.imdbID),k(e),u.getFilmByID(e.imdbID).then((function(e){S(e),I(!0)})).catch((function(e){return console.log(e)})).finally((function(){return U(!1)}))):I(!0)},onChange:function(e){a(e.target.value)},isSearching:B,isLoading:E}),Object(h.jsx)(f,{isPopupOpen:P,closePopup:function(){I(!1),U(!1)},filmInfo:v,filmDetails:C}),Object(h.jsx)(m,{})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root")),_()}},[[14,1,2]]]);
//# sourceMappingURL=main.c5f770ca.chunk.js.map